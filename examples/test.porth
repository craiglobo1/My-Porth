include "std.porth"

memory fh 4 end

"test_read.txt" fopen
fh !32

memory line_buffer 50 end

0 while dup 31 < do 
    line_buffer fh @32 readLine
    line_buffer stdout
    1 +
end drop

fh @32 fclose