include "std.porth"

memory fh 4 end
memory buffer 100 end


"test_write.txt" fopen
fh swap !32
fh @32 truncate
"Hello world" fh @32 fwrite
fh @32 fclose

"test_read.txt" fopen
fh swap !32
30 buffer fh @32 fread drop
buffer stdout
fh @32 fclose